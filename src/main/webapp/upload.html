<!DOCTYPE html>
<html lang="fr">
	<head>
		<title>Mediashare</title>
		<meta charset='utf-8'>
		<!-- Redirection ( pas pour le moment ) <meta http-equiv="refresh" content="0; URL=inscription.html"> -->
		<!-- jQuery -->
		<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
		<script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
		
		<!-- bootstrap -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
		
		<!-- Code local -->
		<script src="all.js"></script>
	</head>
	<body>
<<<<<<< HEAD
		<center>
			<h1><b>Mediashare</b></h1>
		</center>
		<div class="container">
			<div class="row"><center>
				<input id="file" type="file" placeholder="Upload un fichier" value="" multiple />
				<div class="btn-group" role="group">
					<button id="upload" class="btn btn-primary">Upload</button>
				</div>
			</center></div>
		</div>
		<script type="text/javascript">
			$(document).ready(function() {
				$("#upload").click(function () {
					/**
					var path = $("#file").val();
					if(path==""){
						alert("Veuillez choisir un fichier à uploader !");
					}else{
						alert("fichier en cours d'enregistrement ...");
						var tmp = path.split("\\");
						alert("split");
						//var fileSystem = new ActiveXObject("Scripting.FileSystemObject");
						//fileSystem.createTextFile("test",true);
						getFile("test.txt", {create: true});alert("created");
						/**
						var fw =fileSystem.OpenTextFile("\\files\\"+tmp[tmp.length-1], 2 ,true);// ouvre le fichier en écriture
						alert("opened \\files\\"+tmp[tmp.length-1]);
						var fr = fopen(path,0); // ouvre le fichier en lecture
						if(fw!=-1&&fr!=-1){// si le fichier s'est bien ouvert
						    var str = path;//
						    fwrite(fw, str); // écrit str dans le fichier
						    fw.Close(); // ferme le fichier
						    fr.Close();
						}**/
						alert("fichier enregistré");
					}**/
					function onInitFs(fs) {
					   fs.root.getFile('test.txt', {create: true}, writeFile, errorHandler);
					}
					function writeFile(fileEntry) {
					   fileEntry.createWriter(function(fileWriter) {
					      fileWriter.onwriteend = function(e) {
					         alert('OK.');
					      };
					      fileWriter.onerror = function(e) {
					         alert('Error: ' + e.toString());
					      };
					      // On crée un objet Blob pour écrire dans le fichier.
					      var data = new Blob(['test'], {type: 'text/plain'});
					      fileWriter.write(data);
					   }, errorHandler);
					}
					
					window.requestFileSystem  = window.requestFileSystem || window.webkitRequestFileSystem;
					window.requestFileSystem(window.TEMPORARY, 1024*1024, onInitFs, errorHandler);
				})
			});
  		</script>
=======
		<div class="collapse navbar-collapse" id="navbar-collapse-1">
			<ul class="nav navbar-nav">
				<li class="active"><p class="navbar-text"><a href="index.html">Accueil</a></p></li>
				<li><p class="navbar-text"><a href="recherche.html">Recherche</a></p></li>
				<li><p class="navbar-text"><a href="profileViewer.html">profile viewer</a></p></li>
			</ul>
		</div>
		<section id="wrapper">
			<center>
			    <header>
			      <h1>Mediashare</h1>
			    </header>
				<h2>Upload Drag'N'Drop</h2>
			</center>
		<style>
		#holder { border: 10px dashed #ccc; width: 300px; min-height: 300px; margin: 20px auto;}
		#holder.hover { border: 10px dashed #0c0; }
		#holder img { display: block; margin: 10px auto; }
		#holder p { margin: 10px; font-size: 14px; }
		progress { width: 100%; }
		progress:after { content: '%'; }
		.fail { background: #c00; padding: 2px; color: #fff; }
		.hidden { display: none !important;}
		</style>
		<article>
		  <div id="holder">
		  </div> 
		  <p id="upload" class="hidden">
		  <label>Drag & drop not supported, but you can still upload via this input field:<br><input type="file"></label></p>
		  <p id="filereader">File API & FileReader API not supported</p>
		  <p id="formdata">XHR2's FormData is not supported</p>
		  <p id="progress">XHR2's upload progress isn't supported</p>
		  <p>Upload progress: <progress id="uploadprogress" min="0" max="100" value="0">0</progress></p>
		</article>
		<script>
		var holder = document.getElementById('holder'),
		    tests = {
		      filereader: typeof FileReader != 'undefined',
		      dnd: 'draggable' in document.createElement('span'),
		      formdata: !!window.FormData,
		      progress: "upload" in new XMLHttpRequest
		    }, 
		    support = {
		      filereader: document.getElementById('filereader'),
		      formdata: document.getElementById('formdata'),
		      progress: document.getElementById('progress')
		    },
		    acceptedTypes = {
		      'image/png': true,
		      'image/jpeg': true,
		      'image/gif': true
		    },
		    progress = document.getElementById('uploadprogress'),
		    fileupload = document.getElementById('upload');
		
		"filereader formdata progress".split(' ').forEach(function (api) {
		  if (tests[api] === false) {
		    support[api].className = 'fail';
		  } else {
		    support[api].className = 'hidden';
		  }
		});
		
		function previewfile(file) {
		  if (tests.filereader === true && acceptedTypes[file.type] === true) {
		    var reader = new FileReader();
		    reader.onload = function (event) {
		      var image = new Image();
		      image.src = event.target.result;
		      image.width = 250; // a fake resize
		      holder.appendChild(image);
		    };
		
		    reader.readAsDataURL(file);
		  }  else {
		    holder.innerHTML += '<p>Fichier Uploadé : ' + file.name + '</br>Taille :' + (file.size ? (file.size/1024|0) + 'K' : '');
		    console.log(file);
		  }
		}
		
		function readfiles(files) {
		    debugger;
		    var formData = tests.formdata ? new FormData() : null;
		    for (var i = 0; i < files.length; i++) {
		      if (tests.formdata) formData.append('file', files[i]);
		      previewfile(files[i]);
		    }
		
		    // now post a new XHR request
		    if (tests.formdata) {
		      var xhr = new XMLHttpRequest();
		      xhr.open('POST', '/devnull.php');
		      xhr.onload = function() {
		        progress.value = progress.innerHTML = 100;
		      };
		
		      if (tests.progress) {
		        xhr.upload.onprogress = function (event) {
		          if (event.lengthComputable) {
		            var complete = (event.loaded / event.total * 100 | 0);
		            progress.value = progress.innerHTML = complete;
		          }
		        }
		      }
		
		      xhr.send(formData);
		    }
		}
		
		if (tests.dnd) { 
		  holder.ondragover = function () { this.className = 'hover'; return false; };
		  holder.ondragend = function () { this.className = ''; return false; };
		  holder.ondrop = function (e) {
		    this.className = '';
		    e.preventDefault();
		    readfiles(e.dataTransfer.files);
		  }
		} else {
		  fileupload.className = 'hidden';
		  fileupload.querySelector('input').onchange = function () {
		    readfiles(this.files);
		  };
		}
		
		</script><a id="html5badge" href="http://www.w3.org/html/logo/">
		</a>
		</section>
		<script>
			var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
			document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		</script>
		<script>
			try {
				var pageTracker = _gat._getTracker("UA-1656750-18");
				pageTracker._trackPageview();
			} catch(err) {}
		</script>
>>>>>>> ff3dcfafa2645e299601d0efb45e59f1e2969e75
	</body>
</html>